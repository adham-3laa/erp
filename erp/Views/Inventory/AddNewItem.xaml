<Page x:Class="erp.Views.Inventory.AddNewItem"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Background="{StaticResource PageBgBrush}"
      FlowDirection="RightToLeft">

    <Page.Resources>
        <DropShadowEffect x:Key="PrimaryOutlineGlow"
                          Color="{Binding Color, Source={StaticResource PrimaryBrush}}"
                          BlurRadius="16"
                          ShadowDepth="0"
                          Opacity="0.35"/>

        <Style x:Key="GlowingTableOuterBorder" TargetType="Border">
            <Setter Property="CornerRadius" Value="16"/>
            <Setter Property="Background" Value="{StaticResource CardBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="{StaticResource PrimaryBrush}"/>
            <Setter Property="Padding" Value="16"/>
            <Setter Property="Effect" Value="{StaticResource PrimaryOutlineGlow}"/>
        </Style>
    </Page.Resources>

    <Grid Margin="24" MinWidth="720">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Grid Grid.Row="0" Margin="0,0,0,16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBlock Text="إضافة منتجات"
                       FontSize="26"
                       FontWeight="Bold"/>

            <Button Grid.Column="2"
                    Content="رجوع"
                    Width="120"
                    Style="{StaticResource DarkButtonStyle}"
                    Click="Back_Click"/>
        </Grid>

        <!-- Wizard -->
        <Border Grid.Row="1"
                Style="{StaticResource GlowingTableOuterBorder}"
                Width="760"
                HorizontalAlignment="Center">

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Steps -->
                <Grid Grid.Row="0">

                    <!-- Step 1 -->
                    <StackPanel x:Name="IntroPanel"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center">
                        <Button Content="إدخال عدد المنتجات"
                                Width="260"
                                Height="44"
                                Style="{StaticResource DarkButtonStyle}"
                                Click="ShowCount_Click"/>
                    </StackPanel>

                    <!-- Step 2 -->
                    <StackPanel x:Name="CountPanel"
                                Visibility="Collapsed"
                                Width="620"
                                HorizontalAlignment="Center">

                        <TextBlock Text="اسم المورد"/>
                        <TextBox x:Name="SupplierNameTextBox"
                                 Height="36"
                                 Margin="0,6,0,16"/>

                        <TextBlock Text="عدد المنتجات"/>
                        <TextBox x:Name="CountTextBox"
                                 Height="36"
                                 FlowDirection="LeftToRight"
                                 TextAlignment="Center"/>

                        <Button Content="ابدأ"
                                Margin="0,20,0,0"
                                Width="120"
                                Style="{StaticResource DarkButtonStyle}"
                                Click="StartWizard_Click"/>
                    </StackPanel>

                    <!-- Step 3 -->
                    <StackPanel x:Name="FormPanel"
                                Visibility="Collapsed"
                                Width="620"
                                HorizontalAlignment="Center">

                        <TextBlock x:Name="StepTitle"
                                   FontSize="16"
                                   FontWeight="Bold"
                                   Margin="0,0,0,14"/>

                        <TextBlock Text="اسم المنتج"/>
                        <TextBox Text="{Binding Name}"/>

                        <TextBlock Text="SKU" Margin="0,12,0,0"/>
                        <TextBox Text="{Binding SKU}"/>

                        <TextBlock Text="سعر البيع" Margin="0,12,0,0"/>
                        <TextBox Text="{Binding SalePrice}"
                                 FlowDirection="LeftToRight"/>

                        <TextBlock Text="سعر الشراء" Margin="0,12,0,0"/>
                        <TextBox Text="{Binding BuyPrice}"
                                 FlowDirection="LeftToRight"/>

                        <TextBlock Text="الكمية" Margin="0,12,0,0"/>
                        <TextBox Text="{Binding Quantity}"
                                 FlowDirection="LeftToRight"/>

                        <TextBlock Text="الصنف" Margin="0,12,0,0"/>
                        <TextBox Text="{Binding Category}"/>

                        <TextBlock Text="الوصف" Margin="0,12,0,0"/>
                        <TextBox Height="80"
                                 AcceptsReturn="True"
                                 TextWrapping="Wrap"
                                 Text="{Binding Description}"/>
                    </StackPanel>
                </Grid>

                <!-- Actions -->
                <StackPanel Grid.Row="1"
                            Orientation="Horizontal"
                            HorizontalAlignment="Left"
                            Margin="0,20,0,0">

                    <Button Content="رجوع"
                            Width="120"
                            Margin="0,0,12,0"
                            Style="{StaticResource DarkButtonStyle}"
                            Click="Prev_Click"/>

                    <Button x:Name="NextBtn"
                            Content="التالي"
                            Width="120"
                            Style="{StaticResource DarkButtonStyle}"
                            Click="Next_Click"/>

                    <Button x:Name="SaveBtn"
                            Content="حفظ"
                            Width="120"
                            Margin="12,0,0,0"
                            Visibility="Collapsed"
                            Style="{StaticResource DarkButtonStyle}"
                            Click="Save_Click"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Page>
